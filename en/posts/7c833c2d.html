<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: light)">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)"><meta name="generator" content="Hexo 8.1.1">

  <link rel="apple-touch-icon" sizes="180x180" href="/en/images/favicon/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/en/images/favicon/favicon-64x64.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/en/images/favicon/favicon-32x32.png">
  <link rel="mask-icon" href="/en/images/favicon/favicon-64x64.png" color="#222">

<link rel="stylesheet" href="/en/css/main.css">

<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,300;0,400;0,700;1,300;1,400;1,700&family=Inconsolata:ital,wght@0,300;0,400;0,700;1,300;1,400;1,700&display=swap&subset=latin,latin-ext">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.0/css/all.min.css" integrity="sha256-VHqXKFhhMxcpubYf9xiWdCiojEbY9NexQ4jh8AxbvcM=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"pgzxc.github.io","root":"/en/","images":"/en/images","scheme":"Gemini","darkmode":true,"version":"8.26.0","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"hljswrap":true,"codeblock":{"theme":{"light":"an-old-hope","dark":"an-old-hope"},"prism":{"light":"prism","dark":"prism-dark"},"copy_button":{"enable":true,"style":"default"},"fold":{"enable":false,"height":500},"language":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":true,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":true,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":true,"duration":200,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Search...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"},"path":"/en/search.json","localsearch":{"enable":true,"top_n_per_article":1,"unescape":false,"preload":false,"trigger":"auto"}}</script><script src="/en/js/config.js" defer></script>

    <meta name="description" content="一 概述123本文题目来自于： - 面试招聘要求 - 网友分享">
<meta property="og:type" content="article">
<meta property="og:title" content="IOS面试题——高频面试题之音视频(6)">
<meta property="og:url" content="https://pgzxc.github.io/posts/7c833c2d.html">
<meta property="og:site_name" content="PGzxc (English)">
<meta property="og:description" content="一 概述123本文题目来自于： - 面试招聘要求 - 网友分享">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2025-09-25T08:02:25.000Z">
<meta property="article:modified_time" content="2026-02-22T02:43:04.831Z">
<meta property="article:author" content="PGzxc">
<meta property="article:tag" content="IOS面试题">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://pgzxc.github.io/posts/7c833c2d.html">


<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"en","comments":true,"permalink":"https://pgzxc.github.io/posts/7c833c2d.html","path":"posts/7c833c2d.html","title":"IOS面试题——高频面试题之音视频(6)"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>IOS面试题——高频面试题之音视频(6) | PGzxc (English)</title>
  








  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/next-theme-pjax/0.6.0/pjax.min.js" integrity="sha256-vxLn1tSKWD4dqbMRyv940UYw4sXgMtYcK6reefzZrao=" crossorigin="anonymous" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/medium-zoom/1.1.0/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous" defer></script>
<script src="/en/js/utils.js" defer></script><script src="/en/js/motion.js" defer></script><script src="/en/js/sidebar.js" defer></script><script src="/en/js/next-boot.js" defer></script><script src="/en/js/pjax.js" defer></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.5.0/search.js" integrity="sha256-xFC6PJ82SL9b3WkGjFavNiA9gm5z6UBxWPiu4CYjptg=" crossorigin="anonymous" defer></script>
<script src="/en/js/third-party/search/local-search.js" defer></script>


  <script class="next-config" data-name="mermaid" type="application/json">{"enable":true,"theme":{"light":"default","dark":"dark"},"js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mermaid/11.10.1/mermaid.min.js","integrity":"sha256-BmQmdWDS8X2OTbrwELWK366LV6escyWhHHe0XCTU/Hk="}}</script>
  <script src="/en/js/third-party/tags/mermaid.js" defer></script>

  <script class="next-config" data-name="wavedrom" type="application/json">{"enable":true,"js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/wavedrom/3.5.0/wavedrom.min.js","integrity":"sha256-INLAoJc6quTNfiMWkGZniYO2cxE8mHpddnLow1m6RFs="}}</script>
  <script class="next-config" data-name="wavedrom_skin" type="application/json">{"enable":true,"js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/wavedrom/3.5.0/skins/default.js","integrity":"sha256-fduc/Zszk5ezWws2uInY/ALWVmIrmV6VTgXbsYSReFI="}}</script>
  <script src="/en/js/third-party/tags/wavedrom.js" defer></script>




  




  

  <script class="next-config" data-name="enableMath" type="application/json">false</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"ams","js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js","integrity":"sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI="}}</script>
<script src="/en/js/third-party/math/mathjax.js" defer></script>



  <noscript>
    <link rel="stylesheet" href="/en/css/noscript.css">
  </noscript>
<link rel="alternate" href="/en/atom.xml" title="PGzxc (English)" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/en/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">PGzxc (English)</p>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">What I learn from books is superficial; I must experience it myself</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="Search" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/en/" rel="section"><i class="fa fa-bell fa-fw"></i>Home</a></li><li class="menu-item menu-item-nav"><a href="/en/navs/" rel="section"><i class="fa fa-bars fa-fw"></i>Navigation</a></li><li class="menu-item menu-item-categories"><a href="/en/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories<span class="badge">275</span></a></li><li class="menu-item menu-item-archives"><a href="/en/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives<span class="badge">4492</span></a></li><li class="menu-item menu-item-links"><a href="/en/links/" rel="section"><i class="fa fa-link fa-fw"></i>Links</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
      <div class="search-header">
        <span class="search-icon">
          <i class="fa fa-search"></i>
        </span>
        <div class="search-input-container">
          <input autocomplete="off" autocapitalize="off" maxlength="80"
                placeholder="Search..." spellcheck="false"
                type="search" class="search-input">
        </div>
        <span class="popup-btn-close" role="button">
          <i class="fa fa-times-circle"></i>
        </span>
      </div>
      <div class="search-result-container">
        <div class="search-result-icon">
          <i class="fa fa-spinner fa-pulse fa-5x"></i>
        </div>
      </div>
    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Site Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%80-%E6%A6%82%E8%BF%B0"><span class="nav-number">1.</span> <span class="nav-text">一 概述</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BA%8C-%E9%9D%A2%E8%AF%95%E8%A6%81%E6%B1%82%E5%92%8C%E9%9D%A2%E8%AF%95%E9%A2%98"><span class="nav-number">2.</span> <span class="nav-text">二 面试要求和面试题</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#2-1-%E9%9D%A2%E8%AF%95%E8%A6%81%E6%B1%82-%E6%8A%80%E6%9C%AF%E7%82%B9%E6%8F%90%E5%8F%96"><span class="nav-number">2.1.</span> <span class="nav-text">2.1 面试要求(技术点提取)</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%89-%E9%9D%A2%E8%AF%95%E9%A2%98%E8%A7%A3%E7%AD%94-%E4%BB%85%E4%BE%9B%E5%8F%82%E8%80%83"><span class="nav-number">3.</span> <span class="nav-text">三 面试题解答(仅供参考)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#3-1-%E5%9B%BE%E5%BD%A2%E5%A4%84%E7%90%86"><span class="nav-number">3.1.</span> <span class="nav-text">3.1 图形处理</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-2-%E9%9F%B3%E8%A7%86%E9%A2%91"><span class="nav-number">3.2.</span> <span class="nav-text">3.2 音视频</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-3-%E7%9B%B4%E6%92%AD"><span class="nav-number">3.3.</span> <span class="nav-text">3.3 直播</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-4-%E4%B8%89%E6%96%B9%E5%95%86%E4%B8%9A%E5%BA%93"><span class="nav-number">3.4.</span> <span class="nav-text">3.4 三方商业库</span></a></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="PGzxc"
      src="/en/images/avatar.jpg">
  <p class="site-author-name" itemprop="name">PGzxc</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/en/archives/">
          <span class="site-state-item-count">4492</span>
          <span class="site-state-item-name">Posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/en/categories/">
        <span class="site-state-item-count">275</span>
        <span class="site-state-item-name">Categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/en/tags/">
        <span class="site-state-item-count">626</span>
        <span class="site-state-item-name">Tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="http://blog.csdn.net/calvin_zhou" title="CSDN → http:&#x2F;&#x2F;blog.csdn.net&#x2F;calvin_zhou" rel="noopener me" target="_blank"><i class="fa fa-book fa-fw"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="http://weibo.com/5582039920" title="微博 → http:&#x2F;&#x2F;weibo.com&#x2F;5582039920" rel="noopener me" target="_blank"><i class="fab fa-weibo fa-fw"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="http://www.jianshu.com/u/c5cdcb4dc52b" title="简书 → http:&#x2F;&#x2F;www.jianshu.com&#x2F;u&#x2F;c5cdcb4dc52b" rel="noopener me" target="_blank"><i class="fa fa-heartbeat fa-fw"></i></a>
      </span>
  </div>


<nav class="sidebar-nav" id="sidebar-nav">
  <ul class="sidebar-nav-menu">
        <li class="menu-item menu-item-home">
          <a href="/enundefined" rel="section">
            <span></span>
          </a>
        </li>
        <li class="menu-item menu-item-nav">
          <a href="/enundefined" rel="section">
            <span></span>
          </a>
        </li>
        <li class="menu-item menu-item-categories">
          <a href="/enundefined" rel="section">
            <span></span>
          </a>
        </li>
        <li class="menu-item menu-item-archives">
          <a href="/enundefined" rel="section">
            <span></span>
          </a>
        </li>
        <li class="menu-item menu-item-links">
          <a href="/enundefined" rel="section">
            <span></span>
          </a>
        </li>
  </ul>
</nav>
        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en">
    <link itemprop="mainEntityOfPage" href="https://pgzxc.github.io/posts/7c833c2d.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/en/images/avatar.jpg">
      <meta itemprop="name" content="PGzxc">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="PGzxc (English)">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="IOS面试题——高频面试题之音视频(6) | PGzxc (English)">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          IOS面试题——高频面试题之音视频(6)<a href="https://github.com/PGzxc/PGzxc.github.io/edit/master/source/_posts/IOS%E9%9D%A2%E8%AF%95%E9%A2%98%E2%80%94%E2%80%94%E9%AB%98%E9%A2%91%E9%9D%A2%E8%AF%95%E9%A2%98%E4%B9%8B%E9%9F%B3%E8%A7%86%E9%A2%91-6.md" class="post-edit-link" title="Edit" rel="noopener" target="_blank"><i class="fa fa-pen-nib"></i></a>
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created at:2025-09-25 16:02:25" itemprop="dateCreated datePublished" datetime="2025-09-25T16:02:25+08:00">2025-09-25</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/en/categories/%E9%9D%A2%E8%AF%95%E7%9B%B8%E5%85%B3/" itemprop="url" rel="index"><span itemprop="name">面试相关</span></a>
        </span>
          ,
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/en/categories/%E9%9D%A2%E8%AF%95%E7%9B%B8%E5%85%B3/IOS%E9%9D%A2%E8%AF%95%E9%A2%98/" itemprop="url" rel="index"><span itemprop="name">IOS面试题</span></a>
        </span>
    </span>

  
    <span class="post-meta-item" title="Reading time">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">Reading time &asymp;</span>
      <span>5 minutes</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody"><h2 id="一-概述"><a href="#一-概述" class="headerlink" title="一 概述"></a>一 概述</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">本文题目来自于：</span><br><span class="line"> - 面试招聘要求</span><br><span class="line"> - 网友分享</span><br></pre></td></tr></table></figure>

<span id="more"></span>

<h2 id="二-面试要求和面试题"><a href="#二-面试要求和面试题" class="headerlink" title="二 面试要求和面试题"></a>二 面试要求和面试题</h2><h3 id="2-1-面试要求-技术点提取"><a href="#2-1-面试要求-技术点提取" class="headerlink" title="2.1 面试要求(技术点提取)"></a>2.1 面试要求(技术点提取)</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1.图形处理：工具(GPUImage, Core Image)+ 核心能力(图像加速处理)。</span><br><span class="line">2.音视频：核心能力(采集、编解码)+ 实践场景(处理、播放)。</span><br><span class="line">3.直播：核心协议(RTMP, WebRTC)+ 核心功能(推流/拉流)。</span><br><span class="line">4.三方商业库：推送(APNs或第三方)、IM(即时通讯)、云平台(AWS/Aliyun)、支付(Apple Pay/支付宝/微信)、分享(Social SDK)</span><br></pre></td></tr></table></figure>

<h2 id="三-面试题解答-仅供参考"><a href="#三-面试题解答-仅供参考" class="headerlink" title="三 面试题解答(仅供参考)"></a>三 面试题解答(仅供参考)</h2><h3 id="3-1-图形处理"><a href="#3-1-图形处理" class="headerlink" title="3.1 图形处理"></a>3.1 图形处理</h3><p>面试考点</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Core Image：苹果原生框架，API 简单，内置大量滤镜，适合静态图像处理。  </span><br><span class="line">GPUImage：开源框架，基于 OpenGL ES，更灵活，擅长实时视频处理与自定义滤镜。  </span><br><span class="line">性能优化：GPU 加速、避免离屏渲染、异步处理、缓存与复用。</span><br></pre></td></tr></table></figure>

<p>1、Core Image 与 GPUImage 的核心区别是什么？如何选择？</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">1、区别</span><br><span class="line">-Core Image：原生框架，封装度高，滤镜丰富，适合快速实现照片/静态图像处理。</span><br><span class="line">-GPUImage：基于 OpenGL ES，底层可控，擅长实时视频流处理和自定义复杂滤镜。</span><br><span class="line"></span><br><span class="line">2、选择场景</span><br><span class="line">-Core Image：照片滤镜、简单图像增强（快速开发）。</span><br><span class="line">-GPUImage：实时美颜、视频特效、需要高度定制的场景。</span><br></pre></td></tr></table></figure>

<p>2、GPU 加速如何提升图像处理性能？</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">原理：GPU 并行处理像素点，利用着色器（Shader）分担复杂计算 → 大幅减少 CPU 负载。</span><br><span class="line">效果：在高分辨率图像和视频流处理中，能显著提升实时性和流畅度。</span><br></pre></td></tr></table></figure>

<p>3、图像处理有哪些常见的优化策略？</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">GPU 优先：尽量使用 Core Image / GPUImage 等 GPU 加速框架。</span><br><span class="line">避免离屏渲染：减少圆角、阴影等频繁离屏操作，可通过图层合成或 mask 优化。</span><br><span class="line">异步处理：耗时任务放后台线程，避免阻塞主线程。</span><br><span class="line">图像压缩：在保证效果的前提下降低分辨率，减少内存与运算开销。</span><br><span class="line">缓存与复用：避免重复创建 CIContext、滤镜对象，提升性能。</span><br></pre></td></tr></table></figure>

<p>4、如何用 Core Image 实现实时滤镜效果？</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">1、步骤</span><br><span class="line">-将输入图像（UIImage / CMSampleBuffer）转为 CIImage。</span><br><span class="line">-创建并配置 CIFilter。</span><br><span class="line">-使用 CIContext 渲染输出为 UIImage / CVPixelBuffer。</span><br><span class="line">-将结果显示到界面（可应用于视频帧回调中实现实时滤镜）。</span><br><span class="line"></span><br><span class="line">2、Swift 示例</span><br><span class="line"></span><br><span class="line">let inputImage = CIImage(image: UIImage(named: &quot;photo&quot;)!)!</span><br><span class="line">let filter = CIFilter(name: &quot;CISepiaTone&quot;)!</span><br><span class="line">filter.setValue(inputImage, forKey: kCIInputImageKey)</span><br><span class="line">filter.setValue(0.8, forKey: kCIInputIntensityKey)</span><br><span class="line"></span><br><span class="line">let context = CIContext()</span><br><span class="line">if let outputImage = filter.outputImage,</span><br><span class="line">   let cgImage = context.createCGImage(outputImage, from: outputImage.extent) &#123;</span><br><span class="line">    let result = UIImage(cgImage: cgImage)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>5、面试总结</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Core Image 强在易用性 + 静态图像；</span><br><span class="line">GPUImage 强在灵活性 + 实时视频；</span><br><span class="line">性能优化核心在于 GPU 加速、避免离屏渲染、异步处理、缓存复用。</span><br></pre></td></tr></table></figure>

<h3 id="3-2-音视频"><a href="#3-2-音视频" class="headerlink" title="3.2 音视频"></a>3.2 音视频</h3><p>面试考点</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">采集：AVFoundation 获取摄像头、麦克风数据</span><br><span class="line">编解码：VideoToolbox / AudioToolbox（硬件加速），FFmpeg（多格式支持）</span><br><span class="line">播放：AVPlayer（系统原生）、第三方播放器（IJKPlayer、VLC）</span><br><span class="line">核心挑战：音视频同步（PTS）、实时处理、性能优化</span><br></pre></td></tr></table></figure>

<p>1、简述 iOS 音视频处理的完整流程与核心框架。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">1、处理流程</span><br><span class="line">采集：AVCaptureSession 捕获音视频数据 → 输出 CMSampleBuffer</span><br><span class="line">处理（可选）：滤镜、美颜、水印（Core Image / Metal / GPUImage）</span><br><span class="line">编解码：硬件编码（H.264/AAC）或解码（VideoToolbox/AudioToolbox）</span><br><span class="line">封装/传输：写入本地（MP4/Mov via AVAssetWriter），或推流（RTMP/HTTP-FLV/WebRTC）</span><br><span class="line">播放：本地/网络播放（AVPlayer 或第三方播放器）</span><br><span class="line"></span><br><span class="line">2、框架职责</span><br><span class="line">AVFoundation：采集、播放、基础编解码</span><br><span class="line">VideoToolbox / AudioToolbox：硬件加速编解码，低延迟、高性能</span><br><span class="line">FFmpeg：跨平台/多格式支持，复杂协议处理（RTMP、RTSP、MPEG-TS 等）</span><br></pre></td></tr></table></figure>

<p>2、iOS 视频采集和编码的流程是怎样的？</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">1、采集流程</span><br><span class="line">初始化 AVCaptureSession</span><br><span class="line">添加输入：AVCaptureDeviceInput（摄像头/麦克风）</span><br><span class="line">添加输出：AVCaptureVideoDataOutput / AVCaptureAudioDataOutput</span><br><span class="line">在 AVCaptureVideoDataOutputSampleBufferDelegate 中获取 CMSampleBuffer</span><br><span class="line"></span><br><span class="line">2、编码流程</span><br><span class="line">初始化编码器：AVAssetWriter（录制）、VTCompressionSession（硬件实时编码）</span><br><span class="line">输入数据：采集回调中将 CMSampleBuffer 送入编码器</span><br><span class="line">输出结果：获取压缩后数据（H.264/AAC）</span><br><span class="line"></span><br><span class="line">3、关键点</span><br><span class="line">权限：相机 &amp; 麦克风授权</span><br><span class="line">性能：后台线程做数据处理，避免阻塞主线程</span><br></pre></td></tr></table></figure>

<p>3、iOS 中音视频同步的原理是什么？</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">1、时间戳（PTS）：</span><br><span class="line">每个音频帧/视频帧带有播放时间戳</span><br><span class="line"></span><br><span class="line">2、同步机制：</span><br><span class="line">音频为主时钟（耳朵对延迟敏感）</span><br><span class="line">视频根据 PTS 对齐音频，过早等待、过晚丢帧或加速渲染</span><br><span class="line"></span><br><span class="line">3、播放器处理：</span><br><span class="line">AVPlayer 自动对齐时间戳</span><br><span class="line">直播/低延迟场景需手动管理时间戳，避免音画不同步</span><br></pre></td></tr></table></figure>

<p>4、在 iOS 中如何选择合适的视频播放器？</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">1、AVPlayer</span><br><span class="line">-原生、稳定，支持本地/主流网络格式（HLS、DASH）</span><br><span class="line">-适合常规播放场景</span><br><span class="line"></span><br><span class="line">2、第三方（IJKPlayer/VLC 等）</span><br><span class="line">-基于 FFmpeg，支持更多协议（RTMP、RTSP）、低延迟直播、多格式兼容</span><br><span class="line">-适合直播、跨平台或复杂场景</span><br><span class="line"></span><br><span class="line">3、总结：</span><br><span class="line">能用 AVPlayer 就用 AVPlayer，复杂协议/直播场景才用第三方。</span><br></pre></td></tr></table></figure>

<h3 id="3-3-直播"><a href="#3-3-直播" class="headerlink" title="3.3 直播"></a>3.3 直播</h3><p>面试考点</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">协议：RTMP（传统直播）、WebRTC（低延迟互动）。</span><br><span class="line">功能：推流、拉流、连麦、互动。</span><br><span class="line">优化：弱网处理（码率自适应、丢包恢复）、延迟控制、性能优化。</span><br></pre></td></tr></table></figure>

<p>1、直播的核心协议是什么？</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">1、RTMP (Real-Time Messaging Protocol)</span><br><span class="line">基于 TCP，稳定性高，适合一对多广播（游戏/秀场直播）。</span><br><span class="line">延迟：2–5 秒，需要流媒体服务器（Nginx-RTMP 等）。</span><br><span class="line">iOS实现：常用 LFLiveKit，通过 AVCaptureSession 采集音视频，H.264/AAC 编码，推流至 RTMP 服务器。</span><br><span class="line"></span><br><span class="line">2、WebRTC (Web Real-Time Communication)</span><br><span class="line">基于 UDP，延迟 &lt;1 秒，适合实时互动（视频会议/连麦）。</span><br><span class="line">支持 NAT 穿透，传输灵活，要求网络良好。</span><br><span class="line">iOS实现：使用官方 WebRTC SDK，配置 PeerConnection，实现点对点传输。</span><br></pre></td></tr></table></figure>

<p>2、RTMP vs WebRTC 对比</p>
<p>2-1、对比</p>
<table>
<thead>
<tr>
<th align="center">特性</th>
<th align="center">RTMP(TCP)</th>
<th align="center">WebRTC(UDP)</th>
</tr>
</thead>
<tbody><tr>
<td align="center">延迟</td>
<td align="center">2-5 秒</td>
<td align="center">&lt;1 秒</td>
</tr>
<tr>
<td align="center">适用场景</td>
<td align="center">大规模直播（游戏、秀场）</td>
<td align="center">实时互动（连麦、教育、会议）</td>
</tr>
<tr>
<td align="center">实现复杂度</td>
<td align="center">简单，依赖流媒体服务器</td>
<td align="center">复杂，需信令与 NAT 穿透</td>
</tr>
<tr>
<td align="center">iOS 工具</td>
<td align="center">LFLiveKit &#x2F; FFmpeg</td>
<td align="center">官方 WebRTC 框架</td>
</tr>
</tbody></table>
<p>2-2、选择依据：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">RTMP → 大规模稳定直播场景。</span><br><span class="line">WebRTC → 低延迟、高互动场景。</span><br></pre></td></tr></table></figure>

<p>3、推流与拉流</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">1、推流</span><br><span class="line">采集(AVCaptureSession)→ 编码(H.264/AAC) → 封装(FLV/TS) → 协议传输(RTMP/WebRTC) → CDN 分发。</span><br><span class="line"></span><br><span class="line">2、拉流</span><br><span class="line">服务器/CDN 拉取 → 解码 → 渲染播放。</span><br><span class="line"></span><br><span class="line">3、关键点：</span><br><span class="line">-推流需保障稳定性（丢包、抖动处理）。</span><br><span class="line">-拉流需优化缓冲区，平衡流畅与延迟。</span><br><span class="line"></span><br><span class="line">4、推流基本流程(增加理解)：</span><br><span class="line">采集：通过 AVCaptureSession 获取音视频。</span><br><span class="line">编码：使用 H.264（视频）和 AAC（音频）编码。</span><br><span class="line">封包：封装为 FLV/TS 格式。</span><br><span class="line">传输：通过 RTMP/WebRTC 协议推送到服务器。</span><br><span class="line">分发：CDN 分发至观众端。</span><br><span class="line">播放：客户端解码渲染。</span><br></pre></td></tr></table></figure>

<p>4、弱网环境优化</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">动态码率/分辨率调整（自适应网络带宽）。</span><br><span class="line">FEC (前向纠错)：添加冗余包，丢包可恢复。</span><br><span class="line">重传机制 (ARQ)：关键数据包丢失时请求重传。</span><br><span class="line">拥塞控制：根据 RTT、丢包率调整速率。</span><br><span class="line">缓冲优化：缩短首屏时延，减少卡顿。</span><br></pre></td></tr></table></figure>

<p>6、降低直播延迟</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">1、RTMP</span><br><span class="line">-减小服务器/客户端缓冲区。</span><br><span class="line">-尝试低延迟协议替代（SRT、QUIC）。</span><br><span class="line">-自适应码率策略。</span><br><span class="line"></span><br><span class="line">2、WebRTC</span><br><span class="line">-优化信令流程，加快握手。</span><br><span class="line">-采用高效编解码器（如 H.265、AV1）。</span><br><span class="line">-启用弱网自适应（带宽估计 + 码率控制）。</span><br></pre></td></tr></table></figure>

<p>7、面试总结</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">RTMP 适合大规模、稳定直播，WebRTC 适合低延迟互动。</span><br><span class="line">优化重点在： 弱网自适应、延迟控制，</span><br><span class="line">iOS 中常用 LFLiveKit (RTMP) 和 WebRTC SDK</span><br></pre></td></tr></table></figure>

<h3 id="3-4-三方商业库"><a href="#3-4-三方商业库" class="headerlink" title="3.4 三方商业库"></a>3.4 三方商业库</h3><p>面试考点</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">推送：APNs(Apple Push Notification service/远程推送通知服务)、Firebase、极光推送  </span><br><span class="line">即时通讯（IM）：环信、融云、声网（消息+音视频）  </span><br><span class="line">云平台：AWS、阿里云（存储、CDN、鉴权）  </span><br><span class="line">支付：Apple Pay、支付宝、微信支付  </span><br><span class="line">社交分享：微信、微博、QQ SDK、Universal Links  </span><br></pre></td></tr></table></figure>

<p>1、如何在iOS中实现推送通知？</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">1、推送通知</span><br><span class="line">1.1、APNs (Apple Push Notification Service)</span><br><span class="line">配置 UNUserNotificationCenter 注册通知，获取 deviceToken → 上传服务器。</span><br><span class="line">特点：官方服务、稳定，但功能基础。</span><br><span class="line"></span><br><span class="line">1.2、第三方（Firebase、极光等）</span><br><span class="line">提供 SDK，简化证书管理。</span><br><span class="line">支持离线消息、分组推送、统计分析、多平台统一。</span><br><span class="line"></span><br><span class="line">2、选择依据：</span><br><span class="line">APNs → 简单通知场景，苹果生态内闭环。</span><br><span class="line">第三方 → 个性化推送、统计、多端统一需求</span><br></pre></td></tr></table></figure>

<p>2、如何在iOS中集成第三方IM(即时通讯)？</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">1、常用 SDK：</span><br><span class="line">环信、融云、声网、Sendbird。</span><br><span class="line"></span><br><span class="line">2、集成流程：</span><br><span class="line">CocoaPods/SPM 安装 → 配置 AppId/Token → 初始化 SDK → 调用 API 实现单聊/群聊/离线消息/音视频通话。</span><br><span class="line"></span><br><span class="line">3、优化点：</span><br><span class="line">封装 IM 模块，使用协议隔离 SDK，方便后续替换。</span><br><span class="line"></span><br><span class="line">4、特点：</span><br><span class="line">提供完整解决方案，快速接入。</span><br><span class="line">声网额外支持实时音视频，适合互动场景。</span><br></pre></td></tr></table></figure>

<p>3、如何在iOS中集成Apple Pay或支付宝支付？</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">1、Apple Pay (PassKit)</span><br><span class="line">-PKPaymentRequest 设置金额、商户 ID。</span><br><span class="line">-PKPaymentAuthorizationViewController 处理授权回调。</span><br><span class="line">-安全、简单，但局限于苹果生态。</span><br><span class="line"></span><br><span class="line">2、支付宝/微信支付</span><br><span class="line">-集成 SDK，配置 AppId + URL Schemes。</span><br><span class="line">-发起支付请求 → 回调处理签名和结果。</span><br><span class="line">-灵活，适合国内复杂支付场景。</span><br></pre></td></tr></table></figure>

<p>4、如何在iOS中实现社交分享？</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">1、原生 (UIActivityViewController)</span><br><span class="line">-支持系统内分享（短信、邮件、AirDrop 等）。</span><br><span class="line">-简单但功能有限。</span><br><span class="line"></span><br><span class="line">2、第三方 SDK (微信、微博、QQ)</span><br><span class="line">-需注册 AppId、配置 URL Schemes。</span><br><span class="line">-支持分享、授权登录、用户数据拉取。</span><br><span class="line">-推荐启用 Universal Links 提升跳转体验</span><br></pre></td></tr></table></figure>

<p>5、如何在iOS中使用AWS或阿里云等云平台？</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">1、AWS (S3、Lambda 等)</span><br><span class="line">-使用 AWS iOS SDK，配置 Access Key/区域，执行文件上传/下载。</span><br><span class="line">-支持 TransferUtility 异步传输，结合 IAM 做权限控制。</span><br><span class="line"></span><br><span class="line">2、阿里云 (OSS SDK)</span><br><span class="line">-配置 AccessKey/Endpoint，上传/下载对象存储文件。</span><br><span class="line"></span><br><span class="line">3、关键点：</span><br><span class="line">-权限安全（IAM/STS 临时授权）。</span><br><span class="line">-异步上传下载，避免阻塞 UI。</span><br></pre></td></tr></table></figure>

<p>6、在你的项目中是如何集成和使用第三方库的？</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">1、工具：</span><br><span class="line">CocoaPods / SwiftPM。</span><br><span class="line"></span><br><span class="line">2、流程：</span><br><span class="line">-阅读官方文档，了解 SDK 功能和限制。</span><br><span class="line">-集成 SDK，配置必要参数（App ID、密钥等）。</span><br><span class="line">-封装功能到独立模块（如 PaymentManager、ShareManager），降低耦合。</span><br><span class="line">-测试回调、错误处理，确保稳定性。</span><br><span class="line"></span><br><span class="line">3、流程简化：</span><br><span class="line">阅读文档 → 集成 SDK → 配置参数（AppId、密钥） → 封装模块 → 测试回调与异常处理。</span><br><span class="line"></span><br><span class="line">4、优化：</span><br><span class="line">-用协议或 Manager 层隔离 SDK。</span><br><span class="line">-定期更新库，关注兼容性。</span><br><span class="line">-关键功能（支付、推送）需容灾或备选方案</span><br></pre></td></tr></table></figure>

<p>7、APNs 与第三方推送对比</p>
<p>7-1、对比</p>
<table>
<thead>
<tr>
<th align="center">特性</th>
<th align="center">APNs(官方)</th>
<th align="center">第三方(Firebase&#x2F;极光)</th>
</tr>
</thead>
<tbody><tr>
<td align="center">来源</td>
<td align="center">苹果官方</td>
<td align="center">第三方平台</td>
</tr>
<tr>
<td align="center">功能</td>
<td align="center">基本通知（标题、内容、徽章）</td>
<td align="center">离线消息、统计、个性化、跨平台</td>
</tr>
<tr>
<td align="center">集成</td>
<td align="center">需配置证书，流程复杂</td>
<td align="center">SDK 简化集成，管理后台完善</td>
</tr>
<tr>
<td align="center">适用场景</td>
<td align="center">简单通知，强依赖苹果生态</td>
<td align="center">复杂推送需求，需多端支持</td>
</tr>
</tbody></table>
<p>7-2、选择依据</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">APNs → 官方、稳定、轻量化场景。</span><br><span class="line">第三方 → 统计、个性化、跨平台统一</span><br></pre></td></tr></table></figure>


    </div>

    
    
    

    <footer class="post-footer">
          <div class="post-tags">
              <a href="/en/tags/IOS%E9%9D%A2%E8%AF%95%E9%A2%98/" rel="tag"># IOS面试题</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/en/posts/591d2077.html" rel="prev" title="IOS面试题——高频面试题之核心机制(5)">
                  <i class="fa fa-angle-left"></i> IOS面试题——高频面试题之核心机制(5)
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/en/posts/25cd48e7.html" rel="next" title="IOS面试题——高频面试题之性能优化(7)">
                  IOS面试题——高频面试题之性能优化(7) <i class="fa fa-angle-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






    <div class="comments gitalk-container"></div>
</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 2017 – 
    <span itemprop="copyrightYear">2026</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">PGzxc</span>
  </div><div class="footer-language">
  <a href="/" data-lang="zh-CN" class="lang-link">中文</a>
  <span class="lang-separator">|</span>
  <a href="/en/" data-lang="en" class="lang-link">English</a>
  <span class="lang-separator">|</span>
  <a href="/ja/" data-lang="ja" class="lang-link">日本語</a>
</div>

<style>
.footer-language {
  text-align: center;
  margin: 10px 0;
}

.lang-link {
  margin: 0 5px;
  padding: 2px 8px;
  text-decoration: none;
  border-radius: 4px;
  transition: all 0.3s ease;
}

.lang-link:hover {
  background-color: #f0f0f0;
}

.lang-link.active {
  background-color: #333;
  color: white;
}

.lang-separator {
  color: #999;
}
</style>

<script>
// 检测当前语言并设置选中状态
function setActiveLanguage() {
  const pathname = window.location.pathname;
  const langLinks = document.querySelectorAll('.lang-link');
  
  langLinks.forEach(link => {
    link.classList.remove('active');
  });
  
  if (pathname.startsWith('/en/')) {
    document.querySelector('[data-lang="en"]').classList.add('active');
  } else if (pathname.startsWith('/ja/')) {
    document.querySelector('[data-lang="ja"]').classList.add('active');
  } else {
    document.querySelector('[data-lang="zh-CN"]').classList.add('active');
  }
}

// 页面加载时设置选中状态
window.addEventListener('load', setActiveLanguage);

// 为语言切换链接添加点击事件处理
const langLinks = document.querySelectorAll('.lang-link');
langLinks.forEach(link => {
  link.addEventListener('click', function(e) {
    const targetLang = this.getAttribute('data-lang');
    const currentPath = window.location.pathname;
    
    // 提取当前路径中除去语言前缀的部分
    let pathWithoutLang = currentPath;
    if (currentPath.startsWith('/en/')) {
      pathWithoutLang = currentPath.substring(3);
    } else if (currentPath.startsWith('/ja/')) {
      pathWithoutLang = currentPath.substring(3);
    }
    
    // 构建目标URL
    let targetUrl = this.getAttribute('href');
    if (pathWithoutLang && pathWithoutLang !== '/') {
      // 如果不是首页，保持路径
      targetUrl = targetUrl + pathWithoutLang.replace(/^\//, '');
    }
    
    // 阻止默认跳转并使用新URL
    e.preventDefault();
    window.location.href = targetUrl;
  });
});
</script>


    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/gitalk/1.8.0/gitalk.css" integrity="sha256-AJnUHL7dBv6PGaeyPQJcgQPDjt/Hn/PvYZde1iqfp8U=" crossorigin="anonymous">

<script class="next-config" data-name="gitalk" type="application/json">{"enable":true,"github_id":"PGzxc","repo":"PGzxc.github.io","client_id":"4d2d97c55a316dfcea73","client_secret":"f55fe43764e8560484a13850e4a6d84792924fb0","admin_user":"PGzxc","distraction_free_mode":true,"proxy":"https://cors-anywhere.azm.workers.dev/https://github.com/login/oauth/access_token","language":"zh-CN","js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/gitalk/1.8.0/gitalk.min.js","integrity":"sha256-MVK9MGD/XJaGyIghSVrONSnoXoGh3IFxLw0zfvzpxR4="},"path_md5":"677a1ed58226143dbfa6e3a270a0efd0"}</script>
<script src="/en/js/third-party/comments/gitalk.js" defer></script>

</body>
</html>
