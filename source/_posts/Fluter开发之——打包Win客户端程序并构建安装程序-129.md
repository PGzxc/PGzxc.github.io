---
title: Fluter开发之——打包Win客户端程序并构建安装程序(129)
categories:
  - 开发
  - F-跨平台
  - Flutter
tags:
  - Flutter
abbrlink: 4ea61aee
date: 2025-08-30 12:04:18
---
## 一 概述

```
本文介绍：
 -在Flutter中打包Windows客户端 Release(build\windows\runner\Release\ 目录下的文件)
 -并使用 Inno Setup，将打包成文件创建 Windows安装程序
```

<!--more-->

## 二 打包Win客户端

### 2.1 检查Windows环境支持

```
1、检查指令
flutter doctor

2、Windows开发环境
 -安装 Visual Studio 2022（或更高版本），
 包括 Desktop development with C++ 工作负载(用于编译 Flutter 的 C++ 依赖)
 
 -确保安装了 CMake 和 Windows 10 SDK（通常随 Visual Studio 安装）。
 -安装nuget:https://learn.microsoft.com/en-us/nuget/install-nuget-client-tools
```

### 2.2 启用 Windows 支持

```
1、指令
flutter config --enable-windows-desktop

2、执行后
项目下生成：Windows项目
```

### 2.3 打包 Windows 客户端

```
1、执行指令
flutter build windows --release

2、生成文件位置
build\windows\runner\Release\

3、输入内容：
 -[your-app-name].exe：主可执行文件。
 -相关 DLL 文件（如 flutter_windows.dll）和资源文件夹（如 data）
```

## 三 创建安装程序(Inno Setup)

### 3.1 下载并安装Inno Setup

```
下载地址：https://jrsoftware.org/isdl.php
```

### 3.2 项目信息(新建setup.iss)

1、新建setup.iss

```
; Script generated by the Inno Setup Script Wizard.
; SEE THE DOCUMENTATION FOR DETAILS ON CREATING INNO SETUP SCRIPT FILES!

#define MyAppName "flutter_wanandroid"
#define MyAppVersion "1.0.0"
#define MyAppPublisher "zxc"
#define MyAppExeName "flutter_wanandroid.exe"
#define MyAppIcon "C:\Users\83422\Desktop\Clash\favicon.ico"

[Setup]
AppName={#MyAppName}
AppVersion={#MyAppVersion}
AppPublisher={#MyAppPublisher}
DefaultDirName={autopf}\{#MyAppName}
DefaultGroupName={#MyAppName}
OutputDir=C:\Users\83422\Desktop\Clash\Flutter-wanandroid\output
OutputBaseFilename=flutter_wanandroid-Setup
Compression=lzma
SolidCompression=yes
WizardStyle=modern
SetupIconFile={#MyAppIcon}

[Languages]
Name: "english"; MessagesFile: "compiler:Default.isl"

[Tasks]
Name: "desktopicon"; Description: "{cm:CreateDesktopIcon}"; GroupDescription: "{cm:AdditionalIcons}"; Flags: unchecked

[Files]
Source: "D:\Code\FlutterCode\flutter_wanandroid\build\windows\x64\runner\Release\*"; DestDir: "{app}"; Flags: ignoreversion recursesubdirs createallsubdirs
; Include all files in the Release folder, including DLLs and data folder

[Icons]
Name: "{group}\{#MyAppName}"; Filename: "{app}\{#MyAppExeName}"; IconFilename: "{#MyAppIcon}"
Name: "{autodesktop}\{#MyAppName}"; Filename: "{app}\{#MyAppExeName}"; IconFilename: "{#MyAppIcon}"; Tasks: desktopicon

[Run]
Filename: "{app}\{#MyAppExeName}"; Description: "{cm:LaunchProgram,{#StringChange(MyAppName, '&', '&&')}}"; Flags: nowait postinstall skipifsilent
```

2、修改内容

```
#MyAppName：替换为你的应用名称（如 MyApp）。
#MyAppVersion：替换为应用版本（如 1.0.0）。
#MyAppPublisher：替换为你的公司或开发者名称。
#MyAppExeName：替换为你的 .exe 文件名（与 build\windows\runner\Release\ 中的文件名一致）。
#MyAppIcon：替换为图标文件的绝对路径（如 C:\path\to\icon.ico）。如果没有图标，删除 SetupIconFile 和 IconFilename 行。
Source：替换为你的 Release 文件夹路径（如 C:\path\to\your\project\build\windows\runner\Release\）。
OutputDir：替换为安装程序输出路径（如 C:\path\to\output）。
```

3、说明：

```
如需ico图表文件，使用png转换：https://www.aconvert.com/cn/icon/png-to-ico/
```

### 3.3 用Inno Setup打开setup.iss并编译

```
点击 Compile（或按 F7）生成安装程序
```

