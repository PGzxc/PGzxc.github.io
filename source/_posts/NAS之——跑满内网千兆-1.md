---
title: NAS之——跑满内网千兆(1)
categories:
  - 开发
  - J-NAS
  - 跑满内网
tags:
  - 跑满内网
abbrlink: 92001eed
date: 2025-12-15 12:09:30
---
## 一 概述

```
本文介绍：4盘位及以上 NAS 千兆内网跑满方案
-硬件分析
-RAID与存储优化
-NAS设置
-PC设置
-性能预期
```

<!--more-->

## 二 硬件分析

### 2.1 NAS

```
-4盘位及以上，例如 DS920+、DS1522+、DS1520+
-千兆网口(1 Gbps ≈ 125 MB/s)即可
```

### 2.2 硬盘

```
-7200 RPM HDD 单盘顺序读写约 150~200 MB/s
-4块 HDD RAID 即使最慢的单盘也超过千兆带宽 → 不会成为瓶颈
```

### 2.3 PC

```
千兆网卡即可(内置千兆网卡足够)
SSD或HDD 均可，千兆带宽最大 125 MB/s
```

### 2.4 网络设备

```
-千兆交换机或直连
-网线 CAT5e 或 CAT6 即可
```

## 三 RAID 与存储优化

### 3.1 RAID类型选择

```
-RAID0/RAID5/RAID10/RAID6 都可以跑满千兆内网
-RAID5/6 写入性能略低，但仍大于 125 MB/s
```

### 3.2 SSD Cache(可选)

```
-主要提升小文件随机读写
-对连续大文件传输，HDD 本身已足够
```

### 3.3 多线程 I/O

```
SMB3/NFS 支持多线程
可以充分利用网络带宽，使速度稳定在 120~125 MB/s
```

## 四 NAS 设置

### 4.1 网络

```
-DSM → 控制面板 → 网络 → 网络界面 → 千兆网口启用
-链路聚合可选(主要增加多客户端总带宽，不影响单客户端满速)
```

### 4.2 Jumbo Frame

```
-千兆内网默认 MTU 1500 即可
-Jumbo Frame 可选，不必开启
```

### 4.3 文件服务

```
-SMB3 多线程传输
-NFS 也可，性能略优
```

## 五 PC 设置

```
-千兆网卡即可
-最新网卡驱动
-多线程文件传输
-Jumbo Frame 可选
```

## 六 性能预期

### 6.1 列表

|            配置            |       内网利用率       |               说明               |
| :------------------------: | :--------------------: | :------------------------------: |
| 4块 HDD RAID0/RAID5/RAID10 | 满速 1 Gbps ≈ 125 MB/s | RAID类型对单客户端千兆传输无影响 |
|          单块 HDD          | 满速 1 Gbps ≈ 125 MB/s |    顺序读写本身就超过千兆带宽    |
|      HDD + SSD Cache       | 满速 1 Gbps ≈ 125 MB/s |      提升小文件随机读写体验      |

### 6.2 核心结论

```
1、跑满
千兆内网带宽远低于 HDD 顺序读写能力，所以跑满非常容易

2、关键因素
-NAS + PC 网络配置正确、
-SMB3 或 NFS 多线程传输即可。
```

## 七 总结

```
-千兆网络 → 单块 HDD 就足够跑满
-RAID / 多盘仅影响冗余和多客户端总带宽
-SMB3 / NFS 多线程确保稳定传输
-Jumbo Frame 可选，不影响千兆满速
```

