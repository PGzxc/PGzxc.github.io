---
title: 移动安全面试题之——移动安全综述(1)
categories:
  - 面试相关
  - 移动安全面试题
tags:
  - 移动安全面试题
abbrlink: 44c5a73f
date: 2025-09-27 09:06:44
---
## 一 概述

```
本文题目来自于：
 - 面试招聘要求
 - 网友分享
```

<!--more-->

## 二  面试要求和面试题

```
1.本地数据：未加密的 SharedPreferences 或数据库可能被 Root 设备读取。
2.通信数据：未使用 TLS 的 HTTP 通信易被抓包，泄露用户凭据或敏感信息。
3.代码：未混淆的代码易被逆向，暴露逻辑或硬编码密钥。
4.应对措施：结合应用层加密(如AES)、通信加密(如TLS)及代码保护(如混淆)降低风险。
```

### 三 面试题解答(仅供参考)

### 3.1 本地存储安全

#### 3.1.1 面试考点

```
1.存储方式：
SharedPreferences、SQLite、文件存储的安全性（Android）；
UserDefaults、Core Data、文件存储（iOS）
2.Root/越狱 风险：Root/越狱 设备可能导致数据泄露
3.加密机制：Android Keystore、AES 加密；iOS Keychain、Secure Enclave
```

### 3.1.2 常见面试题

Q1：SharedPreferences/UserDefaults 存储 Token 的风险？

```
1、风险：
Root 设备可通过 /data/data/包名/shared_prefs/ 读取明文 XML，泄露 Token（Android）；
越狱设备读取UserDefaults plist（iOS）

2、应对：
-使用 EncryptedSharedPreferences（AES-256 加密/Android）
-密钥存储于 Android Keystore
-iOS：使用Keychain存储Token
```

Q2：如何安全存储敏感信息？

```
方案：
-小型数据：EncryptedSharedPreferences（Android）；Keychain（iOS）
-数据库：Room + SQLCipher（加密 SQLite/Android）；Core Data + SQLCipher（iOS）
-密码：使用 bcrypt 或 Argon2 哈希，避免明文存储
-文件：限制权限，仅限应用私有目录访问
-密钥：存储于 Android Keystore/iOS Secure Enclave，遵循最小权限原则
```

####  3.1.3 风险与应对

```
1、风险：
-Root/越狱 设备提取未加密的 SharedPreferences/UserDefaults 或 SQLite/Core Data 数据
-硬编码密钥被逆向工程暴露
-权限漏洞导致其他应用访问数据

2、应对：
-使用 EncryptedSharedPreferences 或 SQLCipher 加密存储（Android）；
Keychain 或 Secure Enclave（iOS）
-密钥存储于 Keystore/Secure Enclave
-定期审计，参考 OWASP 移动安全指南
```

### 3.2 通信安全

#### 3.2.1 面试考点

```
HTTP vs. HTTPS（TLS/SSL）。
证书校验与中间人攻击（MITM）防护。
防止重放攻击。
```

#### 3.2.2 常见面试题

Q1：为什么 Android/iOS 必须使用 HTTPS？

```
原因：HTTP 明文传输易被抓包（Wireshark），泄露凭据或数据
优势：HTTPS（TLS 1.2+）确保机密性、完整性和身份认证
iOS ATS强制HTTPS
```

Q2: 如何防止伪造证书攻击？

```
方案：
-使用证书锁定（Certificate Pinning），通过 OkHttp CertificatePinner 
或 Network Security Config 验证公钥/证书（Android）；URLSession Pinning或TrustKit（iOS）
-定期更新证书哈希以应对服务器证书变更
```

Q3：如何防止接口被重放攻击？

```
方案：
-请求添加时间戳 + 随机数（Nonce）。
-服务端校验签名，确保请求唯一性。
```

#### 3.2.3 风险与应对

```
1、风险：
-MITM 攻击：HTTP 通信易被拦截，尤其在公共 Wi-Fi。
-数据篡改：攻击者修改传输数据（如支付金额）。

2、应对：
-强制 HTTPS（TLS 1.2+）。
-实施证书锁定，结合 RSA 密钥交换。
-定期测试 TLS 配置，轮换密钥。
```

### 3.3 代码安全

#### 3.3.1 面试考点

```
逆向工程与反编译
ProGuard/R8 代码混淆（Android）；SwiftShield/iXGuard（iOS）
NDK/So/dylib 层保护
硬编码密钥防护
```

#### 3.3.2 常见面试题

Q1：APK/IPA 为什么容易被逆向？

```
APK 是压缩包，Java/Kotlin 字节码可通过 APKTool 或 Jadx 反编译，暴露逻辑和密钥（Android）
IPA Mach-O可通过Hopper反编译（iOS）
```

Q2：如何防止代码被逆向？

```
方案：
-使用 ProGuard/R8 混淆，重命名类/方法，移除无用代码（Android）
-核心逻辑用 NDK 编译为 so 库，增加逆向难度（Android）；Swift Native dylib（iOS）
-采用第三方加固（腾讯乐固、360 加固、梆梆安全/Android；Arxan、iXGuard/iOS）
```

Q3：如何保护硬编码的密钥？

```
方案：
-避免硬编码，密钥通过服务器动态下发或运行时生成。
-敏感字符串加密，运行时解密。
-使用 Android Keystore 或 so 层存储/处理密钥。
```

#### 3.3.3 风险与应对

```
1、风险：
-未混淆代码暴露业务逻辑或密钥
-攻击者克隆应用或注入恶意代码

2、应对：
-使用 ProGuard/R8 混淆（Android）；iXGuard（iOS）
-核心逻辑移至 NDK so/dylib 库
-实施运行时完整性检查（如 Play Integrity/Android；App Attest/iOS）
```

### 3.4 应用完整性与签名校验

#### 3.4.1 面试考点

```
防止二次打包
签名校验机制
```

#### 3.4.2 常见面试题

Q1：如何防止 APK/IPA 被篡改？

```
1、客户端校验签名：

Signature[] signs = context.getPackageManager()
    .getPackageInfo(context.getPackageName(), PackageManager.GET_SIGNATURES).signatures;
// 比对签名哈希（Android）

iOS：使用App Attest生成attestationObject，服务器验证

2、服务端验证客户端签名，防止伪造请求
```

#### 3.4.3 风险与应对

```
1、风险: 
攻击者可篡改 APK/IPA，注入恶意代码或伪造请求

2、应对:
客户端和服务端双重签名校验
使用 Play Integrity/Android；App Attest/iOS 验证应用完整性
```

### 3.5 动态加载与插件安全

#### 3.5.1 面试考点

```
DexClassLoader 动态加载风险（Android）；dlopen（iOS）
WebView 注入与安全
```

#### 3.5.2 常见面试题

Q1：动态加载 Dex/dylib 有什么风险？

```
攻击者可能注入恶意 Dex/dylib 文件，执行恶意代码
应对：校验 Dex/dylib 文件完整性（如 MD5/签名校验）
```

Q2：WebView 的安全问题？

```
1、风险：
-addJavascriptInterface（Android 4.2 前）可能导致远程代码执行
-evaluateJavaScript（iOS）滥用导致XSS
-加载恶意网页引发钓鱼或 XSS 攻击

2、应对：
-仅对可信页面开放 JS 接口
-禁用文件访问：webView.getSettings().setAllowFileAccess(false/Android)；WKWebView配置（iOS）
-强制 HTTPS 加载
```

### 3.6 调试与抓包防护

#### 3.6.1 面试考点

```
防止调试/Hook
Root/Frida 检测（Android）；越狱/Frida（iOS）
```

#### 3.6.2 常见面试题

Q1：如何防止应用被调试？

```
方案：
-运行时检测：Debug.isDebuggerConnected()（Android）；ptrace（iOS）
-检查 ptrace 调试状态
```

Q2：如何检测 Hook/Frida？

```
方案：
-检查系统函数是否被篡改
-检测 Frida 进程或特征（使用 RootBeer/Android；JailMonkey/iOS）
```

#### 3.6.3 风险与应对

```
1、风险: 
调试或 Hook 可绕过安全检查，窃取逻辑或数据。

2、应对:
-实施运行时反调试机制。
-使用 Root/Frida 检测库，结合完整性检查。
```

### 3.7 安全加固与实践

#### 3.7.1 面试考点

```
第三方加固方案。
安全开发流程。
```

#### 3.7.2 常见面试题

Q1：Android/iOS 常见的安全加固手段有哪些？

```
方案：
-代码混淆（ProGuard/R8/Android；iXGuard/iOS）
-So/dylib 层加密/保护（NDK/Android；Swift Native/iOS）
-第三方加固（腾讯乐固、360 加固、梆梆安全/Android；Arxan/iOS）
-签名校验与动态完整性检测（Play Integrity/Android；App Attest/iOS）
```

Q2：开发过程中如何保证整体安全？

```
方案：

-遵循最小权限原则，避免过度申请权限。
-定期安全扫描和渗透测试。
-防注入、防越权处理输入数据。
-参考 OWASP 移动安全指南和 PCI DSS 标准。
```

### 3.8 测试安全漏洞

#### 3.8.1 面试考点

```
静态与动态分析
渗透测试
```

#### 3.8.2 常见面试题

Q1: 如何测试未加密数据漏洞？

```
方案：
-静态分析：使用 APKTool/Jadx 反编译，检查硬编码密钥或未加密存储逻辑（Android）；Hopper检查（iOS）
-动态分析：使用 Burp Suite 拦截 HTTP 流量，验证 HTTPS；模拟 Root/越狱 设备提取数据
-应对：遵循 OWASP 移动安全测试指南，实施渗透测试，验证 AES/TLS/混淆实现
```

### 3.9 证书锁定的作用

#### 3.9.1 面试考点

```
防止 MITM 攻击。
TLS 通信保护。
```

#### 3.9.2 常见面试题

Q1: 证书锁定的作用？

```
1、作用：
-防止 MITM 攻击，拒绝伪造 CA 证书，确保 TLS 通信安全
-增强支付类应用安全性，防止数据泄露或篡改

2、实现：
-使用 OkHttp CertificatePinner 配置证书哈希（Android）；URLSession Pinning（iOS）
-测试无效证书，验证锁定效果
-定期更新证书哈希，应对服务器证书变更
```

### 3.10 银行/支付类应用安全

#### 3.10.1 面试考点

```
凭据存储与管理
多因素认证
PCI DSS 合规性
```

#### 3.10.2 常见面试题

Q1: 如何安全存储和管理用户凭据？

```
方案：
-使用 EncryptedSharedPreferences（AES-256）或 Android Keystore 存储凭据（Android）；Keychain/Secure Enclave（iOS）
-避免明文密码，采用哈希令牌或生物识别 API
-通信使用 HTTPS（TLS 1.2+）+ OAuth/JWT，增加多因素认证（OTP、指纹）
-代码混淆，定期审计符合 PCI DSS 标准
```

#### 3.10.3 风险与应对

```
1、风险:
-凭据泄露导致身份盗用
-未加密通信或逻辑暴露增加攻击面

2、应对:
-加密存储（AES-256 + Keystore/Secure Enclave）
-强制 HTTPS 和证书锁定
-实施多因素认证，定期轮换密钥
```

## 四 总结

```
Android/iOS 安全防护分三道防线：
-存储安全 → Keystore/Keychain + AES 加密 + 避免明文存储；
-通信安全 → HTTPS/TLS + 证书绑定 + 签名校验；
-代码安全 → 混淆 + NDK/Swift Native + 加固 + 签名校验；
```

