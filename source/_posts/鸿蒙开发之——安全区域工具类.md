---
title: 鸿蒙开发之——安全区域工具类
categories:
  - 开发
  - D-移动开发
  - HarmonyOS
tags:
  - HarmonyOS
abbrlink: e8658089
date: 2025-12-06 09:21:39
---
## 一 概述

```
本文介绍：
- 自定义安全区域工具类
- 工具类用法
```

<!--more-->

## 二 自定义安全区域工具类

### 2.1创建 common/utils/SafeAreaUtils.ets

```
import window from '@ohos.window';

export class SafeAreaUtils {

  static async getAvoidArea(context, type: window.AvoidAreaType = window.AvoidAreaType.SYSTEM) {
    const win = await window.getLastWindow(context)
    const area = await win.getWindowAvoidArea(type)
    return {
      top: area.topRect.height,
      bottom: area.bottomRect.height,
      left: area.leftRect.width,
      right: area.rightRect.width
    }
  }

  static async getStatusBarHeight(context): Promise<number> {
    const win = await window.getLastWindow(context)
    const area = await win.getWindowAvoidArea(window.AvoidAreaType.STATUS_BAR)
    return area.topRect.height
  }

  static async getNavigationBarHeight(context): Promise<number> {
    const win = await window.getLastWindow(context)
    const area = await win.getWindowAvoidArea(window.AvoidAreaType.NAVIGATION_BAR)
    return area.bottomRect.height
  }

  static async observeAvoidArea(context, callback: (data: any) => void) {
    const win = await window.getLastWindow(context)
    win.on('avoidAreaChange', callback)
  }
}
```

### 2.2 使用方式

```
const safeArea = await SafeAreaUtils.getAvoidArea(this.getContext())
console.log(`SafeArea Top: ${safeArea.top}, Bottom: ${safeArea.bottom}`)
```

